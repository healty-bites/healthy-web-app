import{K as Y,P as Z,Q as ee,R as te,U as ne,W as oe,X as ie,a as T,b as R,d as G,e as z,fa as P,g as H,ga as re,h as q,j as V,k as $,l as J,m as K,n as Q,o as W,p as X}from"./chunk-L5IIS3A7.js";import{a as B,g as j,h as x,i as A,l as L,n as h}from"./chunk-H5BHLD4C.js";import"./chunk-Q64FFBLU.js";import{Ab as b,Bb as I,Db as d,Ia as m,X as D,Za as c,a as U,ba as s,bb as w,fa as p,fb as f,gb as t,hb as e,hc as N,ib as l,mb as g,yb as n}from"./chunk-ANQGM6QI.js";var S=class i{static \u0275fac=function(o){return new(o||i)};static \u0275cmp=p({type:i,selectors:[["app-grupo"]],standalone:!0,features:[d],decls:2,vars:0,template:function(o,a){o&1&&(t(0,"p"),n(1,"grupo works!"),e())}})};var E=class i{static \u0275fac=function(o){return new(o||i)};static \u0275cmp=p({type:i,selectors:[["app-meta"]],standalone:!0,features:[d],decls:2,vars:0,template:function(o,a){o&1&&(t(0,"p"),n(1,"meta works!"),e())}})};var C=class i{baseURL=`${L.baseUrl}/user/profile`;http=s(B);getUserProfile(r){return this.http.get(`${this.baseURL}/${r}`)}updateUserProfile(r,o){return this.http.put(`${this.baseURL}/${r}`,o)}static \u0275fac=function(o){return new(o||i)};static \u0275prov=D({token:i,factory:i.\u0275fac,providedIn:"root"})};var M=class i{profile;userProfileService=s(C);authService=s(h);router=s(x);snackBar=s(P);ngOnInit(){this.loadUserProfile()}loadUserProfile(){let o=this.authService.getUser()?.id;o?this.userProfileService.getUserProfile(o).subscribe({next:a=>{this.profile=a,this.showSnackBar("Perfil cargado con \xE9xito")},error:a=>{this.showSnackBar("Error al cargar el perfil")}}):(this.showSnackBar("Usuario no autenticado"),this.router.navigate(["/auth/login"]))}navigateToUpdateProfile(){this.router.navigate(["/cliente/perfil/update"])}showSnackBar(r){this.snackBar.open(r,"Cerrar",{duration:3e3})}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=p({type:i,selectors:[["app-user-profile"]],standalone:!0,features:[d],decls:84,vars:7,consts:[[1,"container","mt-5"],[1,"profile-container"],[1,"d-flex","justify-content-between"],[1,"card-title","mb-0"],[1,"mb-0"],[1,"btn","btn-secondary",3,"click"],[1,"fa-solid","fa-pen"],[1,"datos-user","row"],[1,"col-8"],[1,"col-4"],[1,"btn","btn-secondary"],[1,"datos-user"],[1,"row","justify-content-center"],[1,"col-lg-4","col-sm-6","objetivo-container"],["href",""]],template:function(o,a){o&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3)(4,"strong"),n(5,"Datos Personales:"),e()(),t(6,"h5",4),n(7),e(),t(8,"button",5),g("click",function(){return a.navigateToUpdateProfile()}),l(9,"i",6),n(10," Editar"),e()(),t(11,"div",7)(12,"div",8)(13,"p",4)(14,"strong"),n(15,"Correo:"),e(),n(16),e(),t(17,"p",4)(18,"strong"),n(19,"Sexo:"),e(),n(20),e(),t(21,"p",4)(22,"strong"),n(23,"Peso:"),e(),n(24),e()(),t(25,"div",9)(26,"p",4)(27,"strong"),n(28,"Edad:"),e(),n(29),e(),t(30,"p",4)(31,"strong"),n(32,"Altura:"),e(),n(33),e()()(),l(34,"hr"),e(),t(35,"div",1)(36,"div",2)(37,"h5",3)(38,"strong"),n(39,"Plan Objetivo:"),e()(),t(40,"button",10),l(41,"i",6),n(42," Editar"),e()(),t(43,"div",11)(44,"div",12)(45,"div",13)(46,"p",4)(47,"strong"),n(48,"Deficit Cal\xF3rico"),e()()(),t(49,"div",13)(50,"p",4)(51,"strong"),n(52,"Mantenimiento de Peso"),e()()(),t(53,"div",13)(54,"p",4)(55,"strong"),n(56,"Aumento de masa muscular"),e()()()()(),l(57,"hr"),e(),t(58,"div",1)(59,"div",2)(60,"h5",3)(61,"strong"),n(62,"Suscripcion"),e()(),t(63,"button",10),l(64,"i",6),n(65," Editar"),e()(),t(66,"div",11)(67,"div",12)(68,"div",13)(69,"a",14)(70,"p",4)(71,"strong"),n(72,"Plan Basico"),e()()()(),t(73,"div",13)(74,"a",14)(75,"p",4)(76,"strong"),n(77,"Plan Premium"),e()()()(),t(78,"div",13)(79,"a",14)(80,"p",4)(81,"strong"),n(82,"Plan Vip"),e()()()()()(),l(83,"hr"),e()()),o&2&&(m(7),I("",a.profile.nombre," ",a.profile.apellido,""),m(9),b(" ",a.profile.correo,""),m(4),b(" ",a.profile.sexo,""),m(4),b(" ",a.profile.peso," kg"),m(5),b(" ",a.profile.edad,""),m(4),b(" ",a.profile.altura," cm"))},dependencies:[N],styles:[".profile-container[_ngcontent-%COMP%]{width:70%;background:#fff;border-radius:5px;box-shadow:0 0 10px #0000001a;padding:25px;margin:10px auto}.card-title[_ngcontent-%COMP%]{border-bottom:3px solid #2E8B57}.datos-user[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}hr[_ngcontent-%COMP%]{margin-top:20px;color:#2e8b57}.objetivo-container[_ngcontent-%COMP%]{width:200px;height:100px;background:#fff;border-radius:5px;box-shadow:0 0 10px #0000001a;padding:5px;margin:20px;text-align:center;align-content:center;justify-content:center}.objetivo-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{justify-content:center;align-items:center}@media (max-width: 991px){.profile-container[_ngcontent-%COMP%]{width:100%}h5[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:1.5rem}.objetivo-container[_ngcontent-%COMP%]{padding:5px;margin:20px}}"]})};var _=class i{authService=s(h);isAuthenticated=!1;logout(){this.authService.logout(),this.isAuthenticated=!1}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=p({type:i,selectors:[["app-cliente-layout"]],standalone:!0,features:[d],decls:43,vars:0,consts:[[1,"d-flex"],["id","sidebar",1,"sidebar-toggle"],[1,"sidebar-logo"],["href","#","routerLink","/cliente"],[1,"sidebar-nav","p-0"],[1,"sidebar-header"],[1,"sidebar-item"],["href","#","routerLink","perfil",1,"sidebar-link"],[1,"fa-solid","fa-user"],["href","#","routerLink","meta",1,"sidebar-link"],[1,"fa-solid","fa-bullseye"],["href","#","routerLink","seguimiento",1,"sidebar-link"],[1,"fa-solid","fa-calendar-days"],["href","#","routerLink","contenido",1,"sidebar-link"],[1,"fa-solid","fa-diagram-project"],["href","#","routerLink","grupo",1,"sidebar-link"],[1,"fa-solid","fa-users"],[1,"sidebar-footer"],["href","#","routerLink","/auth/login",1,"sidebar-link",3,"click"],[1,"fa-solid","fa-right-from-bracket"],[1,"main"],[1,"p-3"],[1,"container-fluid"]],template:function(o,a){o&1&&(t(0,"div",0)(1,"aside",1)(2,"div",2)(3,"a",3),n(4,"Healthy Bites"),e()(),t(5,"ul",4),l(6,"li",5),t(7,"li",6)(8,"a",7),l(9,"i",8),t(10,"span"),n(11,"Perfil"),e()()(),t(12,"li",6)(13,"a",9),l(14,"i",10),t(15,"span"),n(16,"Meta"),e()()(),t(17,"li",6)(18,"a",11),l(19,"i",12),t(20,"span"),n(21,"Seguimiento"),e()()(),t(22,"li",6)(23,"a",13),l(24,"i",14),t(25,"span"),n(26,"Contenido"),e()()(),t(27,"li",6)(28,"a",15),l(29,"i",16),t(30,"span"),n(31,"Comunidad"),e()()()(),t(32,"div",17)(33,"a",18),g("click",function(){return a.logout()}),l(34,"i",19),t(35,"span"),n(36,"Cerrar Sesion"),e()()()(),t(37,"div",20),l(38,"app-navbar"),t(39,"main",21)(40,"div",22),l(41,"router-outlet"),e()()()(),l(42,"app-footer"))},dependencies:[R,T,A,j],styles:['h1[_ngcontent-%COMP%]{font-weight:800}li[_ngcontent-%COMP%]{list-style:none}a[_ngcontent-%COMP%]{text-decoration:none}.main[_ngcontent-%COMP%]{min-height:100vh;width:100%;overflow:hidden;background-color:#f9f9f9;box-shadow:2px 0 10px #0000001a inset}#sidebar[_ngcontent-%COMP%]{max-width:264px;min-width:264px;transition:all .35s ease-in-out;background-color:#fff;display:flex;flex-direction:column}#sidebar.collapsed[_ngcontent-%COMP%]{margin-left:-264px}.toggler-btn[_ngcontent-%COMP%]{background-color:transparent;cursor:pointer;border:0}.toggler-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.75rem;color:#000;font-weight:1000}.navbar[_ngcontent-%COMP%]{padding:1.15rem 1.5rem;border-bottom:2px dashed #b3a8a8}.sidebar-nav[_ngcontent-%COMP%]{flex:1 1 auto}.sidebar-logo[_ngcontent-%COMP%]{padding:1.15rem 1.5rem;text-align:center}.sidebar-logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;font-weight:800;font-size:1.5rem}.sidebar-header[_ngcontent-%COMP%]{color:#000;font-size:.75rem;padding:1.5rem 1.5rem .375rem}a.sidebar-link[_ngcontent-%COMP%]{padding:.625rem 1.625rem;color:#000;position:relative;transition:all .35s;display:block;font-size:1.25rem}a.sidebar-link[_ngcontent-%COMP%]:hover{background-color:#c5f2ca}.fa-solid[_ngcontent-%COMP%], .fas[_ngcontent-%COMP%]{margin-right:15px}.sidebar-link[data-bs-toggle=collapse][_ngcontent-%COMP%]:after{border:solid;border-width:0 .075rem .075rem 0;content:"";display:inline-block;padding:2px;position:absolute;right:1.5rem;top:1.4rem;transform:rotate(-135deg);transition:all .2s ease-out}.sidebar-link[data-bs-toggle=collapse].collapsed[_ngcontent-%COMP%]:after{transform:rotate(45deg);transition:all .2s ease-out}@media (max-width:768px){.sidebar-toggle[_ngcontent-%COMP%]{margin-left:-264px}#sidebar.collapsed[_ngcontent-%COMP%]{margin-left:0}}']})};var y=class i{static \u0275fac=function(o){return new(o||i)};static \u0275cmp=p({type:i,selectors:[["app-seguimiento"]],standalone:!0,features:[d],decls:2,vars:0,template:function(o,a){o&1&&(t(0,"p"),n(1,"seguimiento works!"),e())}})};var k=class i{static \u0275fac=function(o){return new(o||i)};static \u0275cmp=p({type:i,selectors:[["app-contenido"]],standalone:!0,features:[d],decls:2,vars:0,template:function(o,a){o&1&&(t(0,"p"),n(1,"contenido works!"),e())}})};function ae(i,r){i&1&&(t(0,"mat-error"),n(1,"Este campo es obligatorio"),e())}function le(i,r){i&1&&(t(0,"mat-error"),n(1,"Este campo es obligatorio"),e())}function me(i,r){i&1&&(t(0,"mat-error"),n(1,"Este campo es obligatorio"),e())}function se(i,r){i&1&&(t(0,"mat-error"),n(1,"Este campo es obligatorio"),e())}function pe(i,r){i&1&&(t(0,"mat-error"),n(1,"Este campo es obligatorio"),e())}function de(i,r){i&1&&(t(0,"mat-error"),n(1,"Este campo es obligatorio"),e())}var O=class i{profileForm;profile;fb=s(Q);userProfileService=s(C);authService=s(h);router=s(x);snackBar=s(P);constructor(){this.profileForm=this.fb.group({nombre:["",z.required],apellido:[""],sexo:[""],edad:[""],altura:[""],peso:[""]})}ngOnInit(){this.loadUserProfile()}loadUserProfile(){let o=this.authService.getUser()?.id;o?this.userProfileService.getUserProfile(o).subscribe({next:a=>{this.profile=a,this.profileForm.patchValue(a)},error:()=>{this.showSnackBar("Error al cargar el perfil del usuario.")}}):(this.showSnackBar("Usuario no autenticado."),this.router.navigate(["/auth/login"]))}controlHasError(r,o){return this.profileForm.controls[r].hasError(o)}onSubmit(){if(this.profileForm.valid){let r=U(U({},this.profile),this.profileForm.value);this.userProfileService.updateUserProfile(this.profile.id,r).subscribe({next:()=>{this.showSnackBar("Perfil actualizado exitosamente."),this.router.navigate(["/cliente/perfil"])},error:o=>{this.showSnackBar(o.error?.message||"Error al actualizar el perfil.")}})}}showSnackBar(r){this.snackBar.open(r,"Cerrar",{duration:3e3})}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=p({type:i,selectors:[["app-update-profile"]],standalone:!0,features:[d],decls:45,vars:8,consts:[[1,"form-section","bg-light","register-container"],[1,"container"],[1,"text-center"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-6"],[1,"form-field"],["matInput","","formControlName","nombre","type","text","placeholder","Actualice su nombre"],["matInput","","formControlName","apellido","type","text","placeholder","Actualice su apellido"],[1,"mb-3"],["matInput","","formControlName","sexo","type","text","placeholder","Actualice su sexo"],[1,"row","mb-3"],[1,"col-4"],["matInput","","formControlName","edad","type","number","placeholder","Actualice su edad"],["matInput","","formControlName","altura","type","number","step","0.01","placeholder","Actualice su altura"],["matInput","","formControlName","peso","type","number","step","0.01","placeholder","Actualice su peso"],["color","primary","type","submit",1,"submit-button",3,"disabled"]],template:function(o,a){o&1&&(t(0,"section",0)(1,"div",1)(2,"h2",2),n(3,"Actualizar perfil"),e(),t(4,"form",3),g("ngSubmit",function(){return a.onSubmit()}),t(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),n(9,"Nombre"),e(),l(10,"input",7),c(11,ae,2,0,"mat-error"),e()(),t(12,"div",5)(13,"mat-form-field",6)(14,"mat-label"),n(15,"Apellido"),e(),l(16,"input",8),c(17,le,2,0,"mat-error"),e()(),t(18,"div",9)(19,"mat-form-field",6)(20,"mat-label"),n(21,"Sexo"),e(),l(22,"input",10),c(23,me,2,0,"mat-error"),e()(),t(24,"div",11)(25,"div",12)(26,"mat-form-field",6)(27,"mat-label"),n(28,"Edad"),e(),l(29,"input",13),c(30,se,2,0,"mat-error"),e()(),t(31,"div",12)(32,"mat-form-field",6)(33,"mat-label"),n(34,"Altura (cm)"),e(),l(35,"input",14),c(36,pe,2,0,"mat-error"),e()(),t(37,"div",12)(38,"mat-form-field",6)(39,"mat-label"),n(40,"Peso (kg)"),e(),l(41,"input",15),c(42,de,2,0,"mat-error"),e()()()(),t(43,"button",16),n(44," Guardar Cambios "),e()()()()),o&2&&(m(4),w("formGroup",a.profileForm),m(7),f(a.controlHasError("nombre","required")?11:-1),m(6),f(a.controlHasError("apellido","required")?17:-1),m(6),f(a.controlHasError("sexo","required")?23:-1),m(7),f(a.controlHasError("edad","required")?30:-1),m(6),f(a.controlHasError("altura","required")?36:-1),m(6),f(a.controlHasError("peso","required")?42:-1),m(),w("disabled",a.profileForm.invalid))},dependencies:[Y,ie,oe,ne,ee,te,Z,re,W,V,G,$,H,q,X,J,K],styles:[".register-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.form-section[_ngcontent-%COMP%]{margin:6.5rem auto;padding:1.5rem;border-radius:10px;background-color:#fff;box-shadow:0 4px 8px #0000001a}.form-control[_ngcontent-%COMP%]{border-radius:20px}.form-field[_ngcontent-%COMP%]{width:100%}.btn-register[_ngcontent-%COMP%]{border-radius:20px;background-color:#1abc9c;color:#fff}p[_ngcontent-%COMP%]{color:#7f8c8d;text-align:center;margin-top:5px}a[_ngcontent-%COMP%]{color:#1abc9c;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}h2[_ngcontent-%COMP%]{color:#1abc9c;font-weight:700;text-align:center;margin-bottom:20px;font-size:2rem}"]})};var at=[{path:"",component:_,children:[{path:"perfil",component:M},{path:"perfil/update",component:O},{path:"meta",component:E},{path:"seguimiento",component:y},{path:"contenido",component:k},{path:"grupo",component:S}]}];export{at as clienteRoutes};
