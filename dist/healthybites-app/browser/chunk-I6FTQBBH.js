import{a as Y,b as J,c as K}from"./chunk-O33SAYZN.js";import{J as N,K as y,P as T,Q as w,R as P,U as L,W as B,X as k,a as z,b as V,d as E,e as s,fa as q,g as v,ga as A,h as _,j as S,k as j,l as M,m as F,n as I,o as R,p as O}from"./chunk-L5IIS3A7.js";import{g as G,h,i as C,n as x}from"./chunk-H5BHLD4C.js";import"./chunk-Q64FFBLU.js";import{Db as f,Ia as m,Za as d,ba as u,bb as g,fa as p,fb as c,gb as t,hb as e,ib as l,mb as b,yb as o}from"./chunk-ANQGM6QI.js";var D=class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=p({type:r,selectors:[["app-auth-layout"]],standalone:!0,features:[f],decls:4,vars:0,template:function(i,a){i&1&&(l(0,"app-navbar"),t(1,"div"),l(2,"router-outlet"),e(),l(3,"app-footer"))},dependencies:[z,V,G]})};function oe(r,n){r&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function re(r,n){r&1&&(t(0,"mat-error"),o(1,"Introduzca un correo electr\xF3nico v\xE1lido."),e())}function ne(r,n){r&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}var U=class r{loginForm;fb=u(I);router=u(h);snackBar=u(q);authService=u(x);CLIENTE_ROL="CLIENTE";NUTRICIONISTA_ROL="NUTRICIONISTA";CLIENTE_ROUTE="/cliente";NUTRICIONISTA_ROUTE="/nutricionista";DEFAULT_ROUTE="/home";constructor(){this.loginForm=this.fb.group({correo:["",[s.required,s.email]],contrasena:["",[s.required]]})}controlHasError(n,i){return this.loginForm.controls[n].hasError(i)}onSubmit(){if(this.loginForm.invalid)return;let n=this.loginForm.value;this.authService.login(n).subscribe({next:()=>{this.showSnackBar("Inicio de sesi\xF3n exitoso"),this.redirectUserBasedOnRole()},error:()=>{this.showSnackBar("Error en el inicio de sesi\xF3n. Por favor, intenta de nuevo.")}})}redirectUserBasedOnRole(){let n=this.authService.getUserRole();n===this.CLIENTE_ROL?this.router.navigate([this.CLIENTE_ROUTE]):n===this.NUTRICIONISTA_ROL?this.router.navigate([this.NUTRICIONISTA_ROUTE]):this.router.navigate([this.DEFAULT_ROUTE])}showSnackBar(n){this.snackBar.open("Login Successful","Close",{duration:2e3,verticalPosition:"top"})}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=p({type:r,selectors:[["app-login"]],standalone:!0,features:[f],decls:26,vars:4,consts:[[1,"login-container"],[1,"login-card"],[1,"login-form"],[3,"ngSubmit","formGroup"],[1,"form-field"],["matInput","","formControlName","correo","type","email","placeholder","Ingrese su correo electr\xF3nico"],["matInput","","formControlName","contrasena","type","password","placeholder","Ingrese su contrase\xF1a"],["mat-raised-button","","color","primary","type","submit",1,"submit-button"],[1,"last"],["routerLink","/auth/forgot-password"],["routerLink","/auth/register"]],template:function(i,a){i&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),o(4,"Bienvenid@ a Healthy Bites"),e(),t(5,"form",3),b("ngSubmit",function(){return a.onSubmit()}),t(6,"mat-form-field",4)(7,"mat-label"),o(8,"Correo Electr\xF3nico"),e(),l(9,"input",5),d(10,oe,2,0,"mat-error")(11,re,2,0,"mat-error"),e(),t(12,"mat-form-field",4)(13,"mat-label"),o(14,"Contrase\xF1a"),e(),l(15,"input",6),d(16,ne,2,0,"mat-error"),e(),t(17,"button",7),o(18," Iniciar Sesi\xF3n "),e()(),t(19,"div",8)(20,"a",9),o(21,"Olvid\xE9 la contrase\xF1a"),e(),t(22,"p"),o(23,"\xBFNo tienes cuenta? "),t(24,"a",10),o(25,"Reg\xEDstrate aqu\xED"),e()()()()()()),i&2&&(m(5),g("formGroup",a.loginForm),m(5),c(a.controlHasError("correo","required")?10:-1),m(),c(a.controlHasError("correo","email")?11:-1),m(5),c(a.controlHasError("contrasena","required")?16:-1))},dependencies:[R,S,E,v,_,O,M,F,k,B,L,w,P,T,A,y,N,C],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100vh;margin:0;box-sizing:border-box}.login-card[_ngcontent-%COMP%]{max-width:1000px;display:flex;flex-direction:row;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px #0000001a}.login-form[_ngcontent-%COMP%]{padding:40px 30px;background-color:#fff}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1abc9c;font-weight:700;text-align:center;margin-bottom:20px;font-size:2rem}.form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.custom-input[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:10px;width:100%;box-sizing:border-box;margin-bottom:15px}.custom-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1abc9c;box-shadow:0 0 5px #1abc9c80}.submit-button[_ngcontent-%COMP%]{background-color:#1abc9c!important;color:#fff!important;border:none;border-radius:8px;padding:12px;width:100%;font-weight:700;font-size:1.2rem;box-shadow:0 4px 10px #0003;transition:background-color .3s ease,box-shadow .3s ease}.submit-button[_ngcontent-%COMP%]:hover{background-color:#158467!important}p[_ngcontent-%COMP%]{color:#7f8c8d;text-align:center}a[_ngcontent-%COMP%]{color:#1abc9c;text-decoration:none;text-align:center}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.last[_ngcontent-%COMP%]{margin-top:5px;text-align:center}@media (max-width: 992px){.login-card[_ngcontent-%COMP%]{flex-direction:column;width:90%;max-width:600px}.login-image[_ngcontent-%COMP%]{width:100%;height:200px}.login-form[_ngcontent-%COMP%]{width:100%;padding:20px}}"]})};function ie(r,n){r&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function ae(r,n){r&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function me(r,n){r&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function le(r,n){r&1&&(t(0,"mat-error"),o(1,"Introduzca un correo electr\xF3nico v\xE1lido."),e())}function se(r,n){r&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function ce(r,n){r&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function de(r,n){r&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function ue(r,n){r&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}var H=class r{registerForm;fb=u(I);router=u(h);snackBar=u(q);authService=u(x);constructor(){this.registerForm=this.fb.group({nombre:["",s.required],apellido:["",s.required],correo:["",[s.required,s.email]],contrasena:["",[s.required,s.minLength(6)]],sexo:["",s.required],edad:["",s.required],altura:["",s.required],peso:["",s.required]})}controlHasError(n,i){return this.registerForm.controls[n].hasError(i)}onSubmit(){if(this.registerForm.valid){let n=this.registerForm.value;this.authService.register(n).subscribe({next:()=>{this.showSnackBar("Usuario creado correctamente"),this.router.navigate(["/auth/login"])},error:i=>{this.showSnackBar(i.error.message)}})}}showSnackBar(n){this.snackBar.open(n,"Cerrar",{duration:5e3})}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=p({type:r,selectors:[["app-register"]],standalone:!0,features:[f],decls:65,vars:10,consts:[[1,"form-section","bg-light","register-container"],[1,"text-center"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-6"],[1,"form-field"],["matInput","","formControlName","nombre","type","text","placeholder","Ingrese su nombre"],["matInput","","formControlName","apellido","type","text","placeholder","Ingrese su apellido"],[1,""],["matInput","","formControlName","correo","type","email","placeholder","Ingrese su correo electr\xF3nico"],[1,"mb-3"],["matInput","","formControlName","contrasena","type","password","placeholder","Ingrese su contrase\xF1a"],[1,"mb-3","form-field"],["formControlName","sexo",1,"d-flex"],["value","Masculino",1,"me-3"],["value","Femenino"],["value","Otro"],[1,"row","mb-3"],[1,"col-4"],["matInput","","formControlName","edad","type","number","placeholder","Ingrese su edad"],["matInput","","formControlName","altura","type","number","step","0.01","placeholder","Ingrese su altura"],["matInput","","formControlName","peso","type","number","step","0.01","placeholder","Ingrese su peso"],["mat-raised-button","","type","submit",1,"btn","btn-register","w-100",3,"disabled"],["routerLink","/auth/login"]],template:function(i,a){i&1&&(t(0,"section",0)(1,"h2",1),o(2,"Crear cuenta"),e(),t(3,"form",2),b("ngSubmit",function(){return a.onSubmit()}),t(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),o(8,"Nombre"),e(),l(9,"input",6),d(10,ie,2,0,"mat-error"),e()(),t(11,"div",4)(12,"mat-form-field",5)(13,"mat-label"),o(14,"Apellido"),e(),l(15,"input",7),d(16,ae,2,0,"mat-error"),e()()(),t(17,"div",8)(18,"mat-form-field",5)(19,"mat-label"),o(20,"Correo Electr\xF3nico"),e(),l(21,"input",9),d(22,me,2,0,"mat-error")(23,le,2,0,"mat-error"),e()(),t(24,"div",10)(25,"mat-form-field",5)(26,"mat-label"),o(27,"Contrase\xF1a"),e(),l(28,"input",11),d(29,se,2,0,"mat-error"),e()(),t(30,"div",12)(31,"label"),o(32,"Sexo"),e(),t(33,"mat-radio-group",13)(34,"mat-radio-button",14),o(35,"Masculino"),e(),t(36,"mat-radio-button",15),o(37,"Femenino"),e(),t(38,"mat-radio-button",16),o(39,"Otro"),e()()(),t(40,"div",17)(41,"div",18)(42,"mat-form-field",5)(43,"mat-label"),o(44,"Edad"),e(),l(45,"input",19),d(46,ce,2,0,"mat-error"),e()(),t(47,"div",18)(48,"mat-form-field",5)(49,"mat-label"),o(50,"Altura (cm)"),e(),l(51,"input",20),d(52,de,2,0,"mat-error"),e()(),t(53,"div",18)(54,"mat-form-field",5)(55,"mat-label"),o(56,"Peso (kg)"),e(),l(57,"input",21),d(58,ue,2,0,"mat-error"),e()()(),t(59,"button",22),o(60," Registrarse "),e()(),t(61,"p"),o(62," \xBFYa tienes cuenta? "),t(63,"a",23),o(64,"Inicia sesi\xF3n aqu\xED"),e()()()),i&2&&(m(3),g("formGroup",a.registerForm),m(7),c(a.controlHasError("nombre","required")?10:-1),m(6),c(a.controlHasError("apellido","required")?16:-1),m(6),c(a.controlHasError("correo","required")?22:-1),m(),c(a.controlHasError("correo","correo")?23:-1),m(6),c(a.controlHasError("contrasena","required")?29:-1),m(17),c(a.controlHasError("edad","required")?46:-1),m(6),c(a.controlHasError("altura","required")?52:-1),m(6),c(a.controlHasError("peso","required")?58:-1),m(),g("disabled",a.registerForm.invalid))},dependencies:[y,N,k,B,L,w,P,T,C,R,S,E,j,v,_,O,M,F,A,K,Y,J],styles:[".register-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.form-section[_ngcontent-%COMP%]{max-width:500px;margin:6.5rem auto;padding:1.5rem;border-radius:10px;background-color:#fff;box-shadow:0 4px 8px #0000001a}.form-control[_ngcontent-%COMP%]{border-radius:20px}.form-field[_ngcontent-%COMP%]{width:100%}.btn-register[_ngcontent-%COMP%]{border-radius:20px;background-color:#1abc9c;color:#fff}p[_ngcontent-%COMP%]{color:#7f8c8d;text-align:center;margin-top:5px}a[_ngcontent-%COMP%]{color:#1abc9c;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}h2[_ngcontent-%COMP%]{color:#1abc9c;font-weight:700;text-align:center;margin-bottom:20px;font-size:2rem}"]})};var Ve=[{path:"",component:D,children:[{path:"login",component:U},{path:"register",component:H}]}];export{Ve as authRoutes};
